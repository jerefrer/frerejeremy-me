(function(c){var s={keyboardShortcuts:{enabled:!0,distance:50},scrollWheel:{enabled:!0,factor:1},scrollZones:{enabled:!1,speed:15},dragging:{enabled:!0,momentum:.875,threshold:10},excludeSelector:"input:focus, select:focus, textarea:focus, audio, video, iframe",linkScrollSpeed:1e3},p=c(window),i=c(document),h=c("body"),w=c("html"),v=c("body,html"),u=c("#wrapper");breakpoints({xlarge:["1281px","1680px"],large:["981px","1280px"],medium:["737px","980px"],small:["481px","736px"],xsmall:["361px","480px"],xxsmall:[null,"360px"],short:"(min-aspect-ratio: 16/7)",xshort:"(min-aspect-ratio: 16/6)"}),p.on("load",function(){window.setTimeout(function(){h.removeClass("is-preload")},100)}),browser.mobile&&(s.keyboardShortcuts.enabled=!1,s.scrollWheel.enabled=!1,s.scrollZones.enabled=!1,s.dragging.enabled=!1,h.css("overflow-x","auto")),browser.name=="ie"&&(h.addClass("is-ie"),p.on("load resize",function(){var t=0;u.children().each(function(){t+=c(this).width()}),w.css("width",t+"px")})),browser.canUse("object-fit")||c(".image[data-position]").each(function(){var t=c(this),e=t.children("img");t.css("background-image",'url("'+e.attr("src")+'")').css("background-position",t.data("position")).css("background-size","cover").css("background-repeat","no-repeat"),e.css("opacity","0")}),s.keyboardShortcuts.enabled&&function(){u.on("keypress keyup keydown",s.excludeSelector,function(t){t.stopPropagation()}),p.on("keydown",function(t){var e=!1;switch(t.keyCode){case 37:i.scrollLeft(i.scrollLeft()-s.keyboardShortcuts.distance),e=!0;break;case 39:i.scrollLeft(i.scrollLeft()+s.keyboardShortcuts.distance),e=!0;break;case 33:i.scrollLeft(i.scrollLeft()-p.width()+100),e=!0;break;case 34:case 32:i.scrollLeft(i.scrollLeft()+p.width()-100),e=!0;break;case 36:i.scrollLeft(0),e=!0;break;case 35:i.scrollLeft(i.width()),e=!0;break}e&&(t.preventDefault(),t.stopPropagation(),v.stop())})}(),s.scrollWheel.enabled&&function(){var t=function(e){var a=10,o=40,r=800,l=0,d=0,f=0,n=0;return"detail"in e?d=e.detail:"wheelDelta"in e?d=e.wheelDelta/-120:"wheelDeltaY"in e&&(d=e.wheelDeltaY/-120),"wheelDeltaX"in e&&(l=e.wheelDeltaX/-120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(l=d,d=0),f=l*a,n=d*a,"deltaY"in e&&(n=e.deltaY),"deltaX"in e&&(f=e.deltaX),(f||n)&&e.deltaMode&&(e.deltaMode==1?(f*=o,n*=o):(f*=r,n*=r)),f&&!l&&(l=f<1?-1:1),n&&!d&&(d=n<1?-1:1),{spinX:l,spinY:d,pixelX:f,pixelY:n}};h.on("wheel",function(e){if(!breakpoints.active("<=small")){e.preventDefault(),e.stopPropagation(),v.stop();var a=t(e.originalEvent),o=a.pixelX!=0?a.pixelX:a.pixelY,r=Math.min(Math.abs(o),150)*s.scrollWheel.factor,l=o>0?1:-1;i.scrollLeft(i.scrollLeft()+r*l)}})}(),s.scrollZones.enabled&&function(){var t=c('<div class="scrollZone left"></div>'),e=c('<div class="scrollZone right"></div>'),a=t.add(e),o=!1,r=null,l,d=function(n){breakpoints.active("<=small")||o||(v.stop(),l=n,clearInterval(r),r=setInterval(function(){i.scrollLeft(i.scrollLeft()+s.scrollZones.speed*l)},25))},f=function(){o=!1,clearInterval(r)};a.appendTo(u).on("mouseleave mousedown",function(n){f()}),t.css("left","0").on("mouseenter",function(n){d(-1)}),e.css("right","0").on("mouseenter",function(n){d(1)}),u.on("---pauseScrollZone",function(n){o=!0,setTimeout(function(){o=!1},500)})}(),s.dragging.enabled&&function(){var t=!1,e=!1,a=0,o,r,l,d,f,n,k,b;u.on("mouseup mousemove mousedown",".image, img",function(m){m.preventDefault()}).on("mouseup mousemove mousedown",s.excludeSelector,function(m){m.stopPropagation(),t=!1,u.removeClass("is-dragging"),clearInterval(l),clearInterval(r),u.triggerHandler("---pauseScrollZone")}).on("mousedown",function(m){breakpoints.active("<=small")||(clearInterval(r),v.stop(),t=!0,u.addClass("is-dragging"),o=i.scrollLeft(),d=m.clientX,n=d,f=d,a=0,b=0,clearInterval(l),l=setInterval(function(){k=Math.abs(f-n),b=f>n?-1:1,n=f},50))}).on("mousemove",function(m){t&&(f=m.clientX,i.scrollLeft(o+(d-f)),a=Math.abs(o-i.scrollLeft()),!e&&a>s.dragging.threshold&&(u.addClass("is-dragged"),e=!0))}).on("mouseup mouseleave",function(m){var g;t&&(e&&(setTimeout(function(){u.removeClass("is-dragged")},100),e=!1),a>s.dragging.threshold&&m.preventDefault(),t=!1,u.removeClass("is-dragging"),clearInterval(l),clearInterval(r),u.triggerHandler("---pauseScrollZone"),s.dragging.momentum>0&&(g=k,r=setInterval(function(){if(isNaN(g)){clearInterval(r);return}i.scrollLeft(i.scrollLeft()+g*b),g=g*s.dragging.momentum,Math.abs(g)<1&&clearInterval(r)},15)))})}(),u.on("mousedown mouseup",'a[href^="#"]',function(t){t.stopPropagation()}).on("click",'a[href^="#"]',function(t){var e=c(this),a=e.attr("href"),o,r,l;a=="#"||(o=c(a)).length==0||(t.preventDefault(),t.stopPropagation(),breakpoints.active("<=small")?(r=o.offset().top-Math.max(0,p.height()-o.outerHeight())/2,l={scrollTop:r}):(r=o.offset().left-Math.max(0,p.width()-o.outerWidth())/2,l={scrollLeft:r}),v.stop().animate(l,s.linkScrollSpeed,"swing"))}),c(".gallery").on("click","a",function(t){var e=c(this),a=e.parents(".gallery"),o=a.children(".modal"),r=o.find("img"),l=e.attr("href");l.match(/\.(jpg|gif|png|mp4)$/)&&(t.preventDefault(),t.stopPropagation(),!o[0]._locked&&(o[0]._locked=!0,r.attr("src",l),o.addClass("visible"),o.focus(),setTimeout(function(){o[0]._locked=!1},600)))}).on("click",".modal",function(t){var e=c(this),a=e.find("img");e[0]._locked||e.hasClass("visible")&&(t.stopPropagation(),e[0]._locked=!0,e.removeClass("loaded"),setTimeout(function(){e.removeClass("visible"),u.triggerHandler("---pauseScrollZone"),setTimeout(function(){a.attr("src",""),e[0]._locked=!1,h.focus()},475)},125))}).on("keypress",".modal",function(t){var e=c(this);t.keyCode==27&&e.trigger("click")}).on("mouseup mousedown mousemove",".modal",function(t){t.stopPropagation()}).prepend('<div class="modal" tabIndex="-1"><div class="inner"><img src="" /></div></div>').find("img").on("load",function(t){var e=c(this),a=e.parents(".modal");setTimeout(function(){a.hasClass("visible")&&a.addClass("loaded")},275)})})(jQuery);
